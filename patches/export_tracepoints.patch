Subject: tracing/events: Export trace symbols required for osjitter tool

All tracepoint symbols could be used by modules back when I wrote
the osjitter tool. Now they need to be explicitely exported, we
should probably just build the tool into ftrace directly.

Signed-off-by: Anton Blanchard <anton@samba.org>
---

Index: linux.junk/kernel/workqueue.c
===================================================================
--- linux.junk.orig/kernel/workqueue.c
+++ linux.junk/kernel/workqueue.c
@@ -354,6 +354,9 @@ static void workqueue_sysfs_unregister(s
 #define CREATE_TRACE_POINTS
 #include <trace/events/workqueue.h>
 
+EXPORT_TRACEPOINT_SYMBOL_GPL(workqueue_execute_end);
+EXPORT_TRACEPOINT_SYMBOL_GPL(workqueue_execute_start);
+
 #define assert_rcu_or_pool_mutex()					\
 	RCU_LOCKDEP_WARN(!rcu_read_lock_sched_held() &&			\
 			 !lockdep_is_held(&wq_pool_mutex),		\
Index: linux.junk/kernel/softirq.c
===================================================================
--- linux.junk.orig/kernel/softirq.c
+++ linux.junk/kernel/softirq.c
@@ -30,6 +30,13 @@
 #define CREATE_TRACE_POINTS
 #include <trace/events/irq.h>
 
+EXPORT_TRACEPOINT_SYMBOL_GPL(irq_handler_entry);
+EXPORT_TRACEPOINT_SYMBOL_GPL(irq_handler_exit);
+EXPORT_TRACEPOINT_SYMBOL_GPL(softirq_entry);
+EXPORT_TRACEPOINT_SYMBOL_GPL(softirq_exit);
+EXPORT_TRACEPOINT_SYMBOL_GPL(tasklet_entry);
+EXPORT_TRACEPOINT_SYMBOL_GPL(tasklet_exit);
+
 /*
    - No shared variables, all the data are CPU local.
    - If a softirq needs serialization, let it serialize itself
Index: linux.junk/kernel/time/timer.c
===================================================================
--- linux.junk.orig/kernel/time/timer.c
+++ linux.junk/kernel/time/timer.c
@@ -54,6 +54,11 @@
 #define CREATE_TRACE_POINTS
 #include <trace/events/timer.h>
 
+EXPORT_TRACEPOINT_SYMBOL_GPL(hrtimer_expire_entry);
+EXPORT_TRACEPOINT_SYMBOL_GPL(hrtimer_expire_exit);
+EXPORT_TRACEPOINT_SYMBOL_GPL(timer_expire_entry);
+EXPORT_TRACEPOINT_SYMBOL_GPL(timer_expire_exit);
+
 __visible u64 jiffies_64 __cacheline_aligned_in_smp = INITIAL_JIFFIES;
 
 EXPORT_SYMBOL(jiffies_64);
Index: linux.junk/arch/powerpc/kernel/irq.c
===================================================================
--- linux.junk.orig/arch/powerpc/kernel/irq.c
+++ linux.junk/arch/powerpc/kernel/irq.c
@@ -78,6 +78,15 @@
 #include <asm/trace.h>
 #include <asm/cpu_has_feature.h>
 
+EXPORT_TRACEPOINT_SYMBOL(timer_interrupt_entry);
+EXPORT_TRACEPOINT_SYMBOL(timer_interrupt_exit);
+EXPORT_TRACEPOINT_SYMBOL(irq_entry);
+EXPORT_TRACEPOINT_SYMBOL(irq_exit);
+EXPORT_TRACEPOINT_SYMBOL(hcall_entry);
+EXPORT_TRACEPOINT_SYMBOL(hcall_exit);
+EXPORT_TRACEPOINT_SYMBOL(opal_entry);
+EXPORT_TRACEPOINT_SYMBOL(opal_exit);
+
 DEFINE_PER_CPU_SHARED_ALIGNED(irq_cpustat_t, irq_stat);
 EXPORT_PER_CPU_SYMBOL(irq_stat);
 
Index: linux.junk/kernel/sched/core.c
===================================================================
--- linux.junk.orig/kernel/sched/core.c
+++ linux.junk/kernel/sched/core.c
@@ -91,6 +91,8 @@
 #define CREATE_TRACE_POINTS
 #include <trace/events/sched.h>
 
+EXPORT_TRACEPOINT_SYMBOL_GPL(sched_switch);
+
 DEFINE_MUTEX(sched_domains_mutex);
 DEFINE_PER_CPU_SHARED_ALIGNED(struct rq, runqueues);
 
